"0","setwd(""data"")"
"2","Warning: The working directory was changed to /Users/nfrings/Documents/PhD/Studies/mental models/Swiss climate vote/Analysis_newest_Julius_NF/clean_CAM_data/data inside a notebook chunk. The working directory will be reset when the chunk is finished running. Use the knitr root.dir option in the setup chunk to change the working directory for notebook chunks."
"0","t1_CAM_ID <- read.table(file = ""survey_t1_CAM_IDs_clean.csv"", header = TRUE, sep = "","")"
"0","t2_CAM_ID <- read.table(file = ""survey_t2_CAM_IDs_clean.csv"", header = TRUE, sep = "","")"
"0","t2_controlGroup_CAM_ID <- read.table(file = ""survey_t2_controlGroup_CAM_IDs_clean.csv"", header = TRUE, sep = "","")"
"0","colnames(t2_controlGroup_CAM_ID) <- colnames(t2_CAM_ID)"
"0",""
"0","## get clean CAM data set"
"0","# t1"
"0","raw_CAM_clean_t1 <- list()"
"0","h = 1"
"0","for(i in 1:length(raw_CAM_t1)){"
"0","  if(!is.null(raw_CAM_t1[[i]]$creator) && (raw_CAM_t1[[i]]$creator %in% t1_CAM_ID$participantID)){"
"0","    raw_CAM_clean_t1[[h]] <- raw_CAM_t1[[i]]"
"0","    raw_CAM_clean_t1[[h]]$idCAM <- paste0(raw_CAM_clean_t1[[h]]$idCAM, ""_t1"")"
"0","    raw_CAM_clean_t1[[h]]$creator <- paste0(raw_CAM_clean_t1[[h]]$creator, ""_t1"")"
"0","    h = h + 1"
"0","  }"
"0","}"
"0",""
"0","# t2"
"0","raw_CAM_clean_t2 <- list()"
"0","h = 1"
"0","for(i in 1:length(raw_CAM_t2)){"
"0","  if(!is.null(raw_CAM_t2[[i]]$creator) && (raw_CAM_t2[[i]]$creator %in% t2_CAM_ID$participantID)){"
"0","    raw_CAM_clean_t2[[h]] <- raw_CAM_t2[[i]]"
"0","    raw_CAM_clean_t2[[h]]$idCAM <- paste0(raw_CAM_clean_t2[[h]]$idCAM, ""_t2"")"
"0","    raw_CAM_clean_t2[[h]]$creator <- paste0(raw_CAM_clean_t2[[h]]$creator, ""_t2"")"
"0","    h = h + 1"
"0","  }"
"0","}"
"0",""
"0","# t2 control group"
"0","raw_CAM_clean_t2_controlGroup <- list()"
"0","h = 1"
"0","for(i in 1:length(raw_CAM_t2_controlGroup)){"
"0","  if(!is.null(raw_CAM_t2_controlGroup[[i]]$creator) && (raw_CAM_t2_controlGroup[[i]]$creator %in% t2_controlGroup_CAM_ID$participantID)){"
"0","    raw_CAM_clean_t2_controlGroup[[h]] <- raw_CAM_t2_controlGroup[[i]]"
"0","    raw_CAM_clean_t2_controlGroup[[h]]$idCAM <- paste0(raw_CAM_clean_t2_controlGroup[[h]]$idCAM, ""_t2_controlGroup"")"
"0","    raw_CAM_clean_t2_controlGroup[[h]]$creator <- paste0(raw_CAM_clean_t2_controlGroup[[h]]$creator, ""_t2_controlGroup"")"
"0","    h = h + 1"
"0","  }"
"0","}"
"0",""
"0",""
"0",""
"0","raw_CAM_clean_ALL <- c(raw_CAM_clean_t1, raw_CAM_clean_t2, raw_CAM_clean_t2_controlGroup)"
"0","setwd(""../output"")"
"0","## paste clean CAM into txt file"
"0","writeLines("""", ""CAMdata_all.txt"") # create file"
"0","text_connection <- file(""CAMdata_all.txt"", ""a"") # open connection to append"
"0",""
"0","for(i in 1:length(raw_CAM_clean_ALL)){"
"0","    writeLines(jsonlite::toJSON(x = raw_CAM_clean_ALL[[i]]), text_connection)"
"0","}"
"2","Warning in for (i in seq_len(n)) { :"
"2","
 "
"2"," closing unused connection 4 (CAMdata_all.txt)
"
"0","close(text_connection) # close connection"
"0",""
"0",""
"0",""
"0","## get missing ID"
"0","# sort(table(t1_CAM_ID$CAM_ID))"
"0","# tmp_vec_creator <- c()"
"0","# for(i in 1:length(raw_CAM_clean)){"
"0","#   tmp_vec_creator[i] <- raw_CAM_clean[[i]]$creator"
"0","# }"
"0","# t1_CAM_ID$CAM_ID[!t1_CAM_ID$CAM_ID %in% tmp_vec_creator]"
"0",""
